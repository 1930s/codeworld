<!DOCTYPE html>
<html>
  <head>
    <title>CodeWorld</title>
    <style type="text/css">
      * { margin: 0; overflow: hidden }
      #screen { cursor: default }
    </style>
  </head>
  <body style="text-align: center">
    <canvas id="screen" width="500" height="500"></canvas>
    <div id="linker" style="align: center"></div>
    <img id="cwlogo" style="display: none" src="codeworld.png" width=900 height=200>
  </body>
  <script type="text/javascript">
    function reportRuntimeError(str) {
      var message = window.parent.addToMessage('\n\n' + str);

      var message = window.parent.document.getElementById('message');
      message.classList.add('error');
    }
  </script>

  <script type="text/javascript" src="deep_eq.js"></script>
  <script type="text/javascript" src="user/base.jsexe/lib.base.js"></script>
  <script type="text/javascript" src="user/base.jsexe/rts.js"></script>
  <script type="text/javascript" src="user/base.jsexe/lib1.base.js"></script>
  <script type="text/javascript" src="user/base.jsexe/out.base.js"></script>

  <script type="text/javascript">
    var params = location.search.slice(1).split('&');
    for (var i = 0; i < params.length; i++) {
      var parts = params[i].split('=');
      if (parts[0] == 'hash') {
        var hash = params[i].slice(5);
        var script = document.createElement('script');
        script.setAttribute('type', 'text/javascript');
        script.setAttribute('src', 'runJS?hash=' + hash);

        script.onload = function() {
          h$main(h$mainZCMainzimain);
        }

        document.head.appendChild(script);

        var link = document.createElement('a');
        link.setAttribute('href', '/#' + hash);
        link.textContent = 'source';
        document.getElementById('linker').appendChild(link);

        break;
      }
    }
  </script>
</html>
